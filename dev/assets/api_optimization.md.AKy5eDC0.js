import{_ as n,C as l,o as r,c as d,aA as e,j as t,a as p,E as a,w as o}from"./chunks/framework.D2BrkH1T.js";const v=JSON.parse('{"title":"Optimization","description":"","frontmatter":{},"headers":[],"relativePath":"api/optimization.md","filePath":"api/optimization.md","lastUpdated":null}'),c={name:"api/optimization.md"},h={class:"jldocstring custom-block",open:""},m={class:"jldocstring custom-block",open:""},u={class:"jldocstring custom-block",open:""},k={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""};function b(f,i,E,_,T,z){const s=l("Badge");return r(),d("div",null,[i[30]||(i[30]=e('<h1 id="Optimization" tabindex="-1">Optimization <a class="header-anchor" href="#Optimization" aria-label="Permalink to &quot;Optimization {#Optimization}&quot;">​</a></h1><h2 id="Index" tabindex="-1">Index <a class="header-anchor" href="#Index" aria-label="Permalink to &quot;Index {#Index}&quot;">​</a></h2><ul><li><a href="#TransportMaps.MapOptimizationResult"><code>TransportMaps.MapOptimizationResult</code></a></li><li><a href="#TransportMaps.OptimizationHistory"><code>TransportMaps.OptimizationHistory</code></a></li><li><a href="#TransportMaps.OptimizationResult"><code>TransportMaps.OptimizationResult</code></a></li><li><a href="#TransportMaps.optimize!"><code>TransportMaps.optimize!</code></a></li><li><a href="#TransportMaps.optimize_adaptive_transportmap"><code>TransportMaps.optimize_adaptive_transportmap</code></a></li><li><a href="#TransportMaps.variance_diagnostic"><code>TransportMaps.variance_diagnostic</code></a></li></ul><h2 id="Types" tabindex="-1">Types <a class="header-anchor" href="#Types" aria-label="Permalink to &quot;Types {#Types}&quot;">​</a></h2>',4)),t("details",h,[t("summary",null,[i[0]||(i[0]=t("a",{id:"TransportMaps.OptimizationHistory",href:"#TransportMaps.OptimizationHistory"},[t("span",{class:"jlbinding"},"TransportMaps.OptimizationHistory")],-1)),i[1]||(i[1]=p()),a(s,{type:"info",class:"jlObjectType jlType",text:"Type"})]),i[3]||(i[3]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OptimizationHistory</span></span></code></pre></div><p>A data structure to store the iteration history of adaptive transport map optimization from samples.</p><p><strong>Fields</strong></p><ul><li><p><code>terms::Vector{Matrix{Int64}}</code>: Multi-index sets at each iteration</p></li><li><p><code>train_objectives::Vector{Float64}</code>: Normalized training objectives at each iteration</p></li><li><p><code>test_objectives::Vector{Float64}</code>: Normalized test objectives at each iteration (empty if no test split)</p></li><li><p><code>gradients::Vector{Vector{Float64}}</code>: Gradient values for candidate terms at each iteration</p></li></ul>',4)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[2]||(i[2]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/optimizationhistory.jl#L1-L12",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),t("details",m,[t("summary",null,[i[4]||(i[4]=t("a",{id:"TransportMaps.OptimizationResult",href:"#TransportMaps.OptimizationResult"},[t("span",{class:"jlbinding"},"TransportMaps.OptimizationResult")],-1)),i[5]||(i[5]=p()),a(s,{type:"info",class:"jlObjectType jlType",text:"Type"})]),i[7]||(i[7]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OptimizationResult</span></span></code></pre></div><p>A data structure to store the optimization results for each component of a transport map when optimizing the map from samples.</p><p><strong>Fields</strong></p><ul><li><p><code>train_objectives::Vector{Float64}</code>: Train objective for each component</p></li><li><p><code>test_objectives::Vector{Float64}</code>: Test objective for each component</p></li><li><p><code>optimization_results::Vector{Optim.MultivariateOptimizationResults}</code>: Result from optimization with <code>Optim.jl</code></p></li></ul>',4)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[6]||(i[6]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/optimizationhistory.jl#L57-L67",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),t("details",u,[t("summary",null,[i[8]||(i[8]=t("a",{id:"TransportMaps.MapOptimizationResult",href:"#TransportMaps.MapOptimizationResult"},[t("span",{class:"jlbinding"},"TransportMaps.MapOptimizationResult")],-1)),i[9]||(i[9]=p()),a(s,{type:"info",class:"jlObjectType jlType",text:"Type"})]),i[11]||(i[11]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MapOptimizationResult</span></span></code></pre></div><p>A data struct to store the iteration history of adaptive transport map optimization from density.</p><p><strong>Fields</strong></p><ul><li><p><code>maps::Vector{PolynomialMap}</code>: Maps for each iteration</p></li><li><p><code>train_objectives::Vector{Float64}</code>: Train objectives for each iteration</p></li><li><p><code>test_objectives::Vector{Float64}</code>: Test objectives for each iteration</p></li><li><p><code>gradients::Vector{Vector{Float64}}</code>: Gradients of train objectives</p></li><li><p><code>optimization_results::Vector{Optim.MultivariateOptimizationResults}</code>: Results of optimization with <code>Optim.jl</code></p></li></ul>',4)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[10]||(i[10]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/optimizationhistory.jl#L103-L116",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),i[31]||(i[31]=t("h2",{id:"Functions",tabindex:"-1"},[p("Functions "),t("a",{class:"header-anchor",href:"#Functions","aria-label":'Permalink to "Functions {#Functions}"'},"​")],-1)),t("details",k,[t("summary",null,[i[12]||(i[12]=t("a",{id:"TransportMaps.optimize!",href:"#TransportMaps.optimize!"},[t("span",{class:"jlbinding"},"TransportMaps.optimize!")],-1)),i[13]||(i[13]=p()),a(s,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[16]||(i[16]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">optimize!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(M</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PolynomialMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractMapDensity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, quadrature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractQuadratureWeights</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          optimizer, options)</span></span></code></pre></div><p>Optimize polynomial map coefficients to minimize KL divergence to a target density.</p><p><strong>Arguments</strong></p><ul><li><p><code>M::PolynomialMap</code>: The polynomial map to optimize.</p></li><li><p><code>target::AbstractMapDensity</code>: Target map density object (provides the target density π(x) and any needed operations).</p></li><li><p><code>quadrature::AbstractQuadratureWeights</code>: Quadrature points and weights used for numerical integration.</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>optimizer</code>: Optimizer from Optim.jl to use (default: <code>LBFGS()</code>).</p></li><li><p><code>options</code>: Options passed to the optimizer (default: <code>Optim.Options()</code>).</p></li></ul><p><strong>Returns</strong></p><ul><li>Optimization result from Optim.jl. The optimized coefficients are written back into <code>M</code>.</li></ul>`,8)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[14]||(i[14]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/mapfromdensity.jl#L103-L120",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1}),i[17]||(i[17]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">optimize!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(M</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PolynomialMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, samples</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Matrix{Float64}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, lm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractLinearMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LinearMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          optimizer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Optim.AbstractOptimizer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LBFGS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Optim.Options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Optim</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test_fraction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Float64</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Optimize polynomial map coefficients to minimize KL divergence to a target density.</p><p><strong>Arguments</strong></p><ul><li><p><code>M::PolynomialMap</code>: The polynomial map to optimize.</p></li><li><p><code>samples::Matrix{Float64}</code>: A matrix of sample data used to initialize and fit the map. Columns are interpreted as components/dimensions and rows as individual sample points.</p></li><li><p><code>lm::AbstractLinearMap</code>: A linear map used to standardize the samples before optimization (default: <code>LinearMap()</code>, identity map).</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>optimizer::Optim.AbstractOptimizer</code>: Optimizer from Optim.jl to use (default: <code>LBFGS()</code>).</p></li><li><p><code>options::Optim.Options</code>: Options passed to the optimizer (default: <code>Optim.Options()</code>).</p></li><li><p><code>test_fraction::Float64</code>: Fraction of samples to hold out for testing/validation (default: <code>0.0</code>, i.e. no test split).</p></li></ul><p><strong>Returns</strong></p><ul><li><code>OptimizationResult</code>: Optimization results containing training and test objectives for each component. The optimized coefficients are written back into <code>M</code>.</li></ul>`,8)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[15]||(i[15]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/mapfromsamples.jl#L125-L145",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),t("details",g,[t("summary",null,[i[18]||(i[18]=t("a",{id:"TransportMaps.optimize_adaptive_transportmap",href:"#TransportMaps.optimize_adaptive_transportmap"},[t("span",{class:"jlbinding"},"TransportMaps.optimize_adaptive_transportmap")],-1)),i[19]||(i[19]=p()),a(s,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[23]||(i[23]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">optimize_adaptive_transportmap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(samples, maxterms; kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Adaptively optimize a triangular transport map by greedily enriching the multi-index set.</p><p><strong>Arguments</strong></p><ul><li><p><code>samples::Matrix{Float64}</code>: Sample data where rows are samples and columns are dimensions</p></li><li><p><code>maxterms::Vector{Int64}</code>: Maximum number of terms for each component</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>lm::AbstractLinearMap=LinearMap(samples)</code>: Linear map to standardize samples</p></li><li><p><code>rectifier::AbstractRectifierFunction=Softplus()</code>: Rectifier function to use</p></li><li><p><code>basis::AbstractPolynomialBasis=LinearizedHermiteBasis()</code>: Polynomial basis</p></li><li><p><code>optimizer::Optim.AbstractOptimizer=LBFGS()</code>: Optimization algorithm</p></li><li><p><code>options::Optim.Options=Optim.Options()</code>: Optimizer options</p></li><li><p><code>test_fraction::Float64=0.0</code>: Fraction of samples to use for testing (validation)</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>C::ComposedMap{LinearMap, PolynomialMap}</code>: The optimized triangular transport map</p></li><li><p><code>iteration_histories::Vector{OptimizationHistory}</code>: History of optimization for each component</p></li></ul>',8)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[20]||(i[20]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/adaptivetransportmap.jl#L7-L27",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1}),i[24]||(i[24]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">optimize_adaptive_transportmap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(samples, maxterms, k_folds, lm, rectifier, basis; optimizer, options)</span></span></code></pre></div><p>Adaptively optimize a triangular transport map using k-fold cross-validation to select the number of terms per component.</p><p><strong>Arguments</strong></p><ul><li><p><code>samples::Matrix{Float64}</code>: Sample data where rows are samples and columns are dimensions</p></li><li><p><code>maxterms::Vector{Int64}</code>: Upper bound on the number of terms to consider for each component</p></li><li><p><code>k_folds::Int</code>: Number of folds to use for cross-validation</p></li><li><p><code>lm::AbstractLinearMap</code>: Linear map to standardize samples (default: <code>LinearMap(samples)</code>)</p></li><li><p><code>rectifier::AbstractRectifierFunction</code>: Rectifier function to use (default: <code>Softplus()</code>)</p></li><li><p><code>basis::AbstractPolynomialBasis</code>: Polynomial basis (default: <code>LinearizedHermiteBasis()</code>)</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>optimizer::Optim.AbstractOptimizer=LBFGS()</code>: Optimization algorithm</p></li><li><p><code>options::Optim.Options=Optim.Options()</code>: Optimizer options</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>ComposedMap{LinearMap, PolynomialMap}</code>: The optimized triangular transport map trained on all samples</p></li><li><p><code>fold_histories::Vector{Vector{OptimizationHistory}}</code>: Optimization history for each component and fold</p></li><li><p><code>selected_terms::Vector{Int}</code>: Number of terms selected for each component</p></li><li><p><code>selected_fold::Vector{Int}</code>: Index of the best fold for each component</p></li></ul>',8)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[21]||(i[21]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/adaptivetransportmap.jl#L73-L96",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1}),i[25]||(i[25]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">optimize_adaptive_transportmap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractMapDensity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    quadrature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractQuadratureWeights</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    maxterms</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Adaptively optimize a triangular transport map from a target density by greedily enriching the multi-index set across all components simultaneously.</p><p><strong>Arguments</strong></p><ul><li><p><code>target::AbstractMapDensity</code>: Target density to approximate</p></li><li><p><code>quadrature::AbstractQuadratureWeights</code>: Quadrature points and weights for integration</p></li><li><p><code>maxterms::Int</code>: Maximum total number of terms to add across all components</p></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><p><code>rectifier::AbstractRectifierFunction=Softplus()</code>: Rectifier function to use</p></li><li><p><code>basis::AbstractPolynomialBasis=LinearizedHermiteBasis()</code>: Polynomial basis</p></li><li><p><code>optimizer::Optim.AbstractOptimizer=LBFGS()</code>: Optimization algorithm</p></li><li><p><code>options::Optim.Options=Optim.Options()</code>: Optimizer options</p></li><li><p><code>validation_samples::Matrix{Float64}=Matrix{Float64}(undef,0,0)</code>: Samples for variance diagnostic validation</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>M::PolynomialMap</code>: The optimized triangular transport map (with best validation variance diagnostic)</p></li><li><p><code>history::OptimizationHistory</code>: History of optimization iterations</p></li></ul>`,8)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[22]||(i[22]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/adaptivetransportmap_density.jl#L1-L27",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),t("details",y,[t("summary",null,[i[26]||(i[26]=t("a",{id:"TransportMaps.variance_diagnostic",href:"#TransportMaps.variance_diagnostic"},[t("span",{class:"jlbinding"},"TransportMaps.variance_diagnostic")],-1)),i[27]||(i[27]=p()),a(s,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[29]||(i[29]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">variance_diagnostic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(M</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PolynomialMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MapTargetDensity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Z</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray{&lt;:Real}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Compute a variance-based diagnostic for assessing the quality of a transport map.</p><p>The diagnostic measures the variance of the log-ratio between the pushforward density and the reference density. A smaller variance indicates a better approximation of the target density by the transport map.</p><p><strong>Arguments</strong></p><ul><li><p><code>M::PolynomialMap</code>: The transport map to be evaluated</p></li><li><p><code>target::MapTargetDensity</code>: The target density that the map should approximate</p></li><li><p><code>Z::AbstractArray{&lt;:Real}</code>: Sample points from the reference distribution, where each row is a sample and columns correspond to dimensions</p></li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The computed variance diagnostic</li></ul>',7)),a(s,{type:"info",class:"source-link",text:"source"},{default:o(()=>[...i[28]||(i[28]=[t("a",{href:"https://github.com/JuliaUQ/TransportMaps.jl/blob/e7a8d9adf3a3983511b172a872b3212ed86a5e4e/src/optimization/mapfromdensity.jl#L164-L182",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})])])}const A=n(c,[["render",b]]);export{v as __pageData,A as default};
